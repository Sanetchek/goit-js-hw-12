{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const PIXABAY_KEY = '43879059-f5905d2b1638a117e79b8083f';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport const getPixabayImages = (query = '') => {\n  const params = new URLSearchParams({\n    key: PIXABAY_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true\n  })\n\n  return fetch(`${BASE_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n\n    return response.json();\n  });\n}","export const generateImagesList = (imagesList) => {\n  return imagesList\n    .map((image) => {\n      const { webformatURL, largeImageURL, comments, downloads, likes, views, tags } = image;\n      return `<li class=\"item\">\n        <a class=\"item-link\" href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"200\">\n          <div class=\"views\">\n            <div class=\"view-item\">\n              <div class=\"view-title\">Likes</div>\n              <div class=\"view-value\">${likes}</div>\n            </div>\n            <div class=\"view-item\">\n              <div class=\"view-title\">Views</div>\n              <div class=\"view-value\">${views}</div>\n            </div>\n            <div class=\"view-item\">\n              <div class=\"view-title\">Comments</div>\n              <div class=\"view-value\">${comments}</div>\n            </div>\n            <div class=\"view-item\">\n              <div class=\"view-title\">Downloads</div>\n              <div class=\"view-value\">${downloads}</div>\n            </div>\n          </div>\n        </a>\n      </li>`\n    })\n    .join('');\n}","import {\n  getPixabayImages\n}\n\nfrom './js/pixabay-api';\n\nimport {\n  generateImagesList\n}\n\nfrom './js/render-functions';\n\n// izitoast\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n// SimpleLightbox\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n// Params\nconst lightboxParams= {\n  captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250\n}\n\n;\n\n// Variables\nconst gallery = document.querySelector('#gallery');\nconst searchForm = document.querySelector('#search');\nconst loader = document.querySelector('.site-loader');\nconst lightbox = new SimpleLightbox('.gallery a', lightboxParams);\n\n// Function to show iziToast message\nfunction showMessage( {\n    message, color\n  }\n\n) {\n  iziToast.show( {\n      message: message,\n      color: color,\n      position: 'topRight',\n      messageColor: '#ffffff',\n      image: './img/oct.svg',\n      imageWidth: 24\n    }\n\n  );\n}\n\nconst onImageSearchSubmit=(event)=> {\n  event.preventDefault();\n  const query=event.target.elements.image.value.trim();\n  console.log(query);\n\n  gallery.innerHTML = '';\n  loader.classList.remove('is-hidden');\n\n  const images = getPixabayImages(query);\n\n  images\n    .then(data => {\n      if (data.total === 0) {\n        const message = \"Sorry, there are no images matching your search query. Please try again!\";\n\n        showMessage({\n          message,\n          color: '#ef4040'\n        }\n\n        );\n      }\n\n      gallery.innerHTML = generateImagesList(data.hits);\n      lightbox.refresh();\n    })\n    .catch(error => {\n      showMessage({\n        message: error.message,\n        color: '#ef4040'\n      }\n\n      );\n    })\n    .finally(() => {\n      event.target.reset();\n      loader.classList.add('is-hidden');\n    });\n}\n\nsearchForm.addEventListener('submit', onImageSearchSubmit)"],"names":["PIXABAY_KEY","BASE_URL","getPixabayImages","query","params","response","generateImagesList","imagesList","image","webformatURL","largeImageURL","comments","downloads","likes","views","tags","lightboxParams","gallery","searchForm","loader","lightbox","SimpleLightbox","showMessage","message","color","iziToast","onImageSearchSubmit","event","data","error"],"mappings":"6vBAAA,MAAMA,EAAc,qCACdC,EAAW,2BAEJC,EAAmB,CAACC,EAAQ,KAAO,CAC9C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAM,EAAE,EAAE,KAAKC,GAAY,CACrD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAGrC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAAsBC,GAC1BA,EACJ,IAAKC,GAAU,CACd,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,SAAAC,EAAU,UAAAC,EAAW,MAAAC,EAAO,MAAAC,EAAO,KAAAC,CAAM,EAAGP,EACjF,MAAO;AAAA,qCACwBE,CAAa;AAAA,sBAC5BD,CAAY,UAAUM,CAAI;AAAA;AAAA;AAAA;AAAA,wCAIRF,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILH,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,YAKjD,CAAK,EACA,KAAK,EAAE,ECPNI,EAAgB,CACpB,gBAAiB,MACf,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,EAKMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAa,SAAS,cAAc,SAAS,EAC7CC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAW,IAAIC,EAAe,aAAcL,CAAc,EAGhE,SAASM,EAAa,CAClB,QAAAC,EAAS,MAAAC,CACV,EAED,CACAC,EAAS,KAAM,CACX,QAASF,EACT,MAAOC,EACP,SAAU,WACV,aAAc,UACd,MAAO,gBACP,WAAY,EACb,CAEL,CACA,CAEA,MAAME,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EACpB,MAAMxB,EAAMwB,EAAM,OAAO,SAAS,MAAM,MAAM,OAC9C,QAAQ,IAAIxB,CAAK,EAEjBc,EAAQ,UAAY,GACpBE,EAAO,UAAU,OAAO,WAAW,EAEpBjB,EAAiBC,CAAK,EAGlC,KAAKyB,GAAQ,CACRA,EAAK,QAAU,GAGjBN,EAAY,CACV,QAHc,2EAId,MAAO,SACR,CAET,EAGML,EAAQ,UAAYX,EAAmBsB,EAAK,IAAI,EAChDR,EAAS,QAAO,CACtB,CAAK,EACA,MAAMS,GAAS,CACdP,EAAY,CACV,QAASO,EAAM,QACf,MAAO,SACR,CAEP,CACA,CAAK,EACA,QAAQ,IAAM,CACbF,EAAM,OAAO,QACbR,EAAO,UAAU,IAAI,WAAW,CACtC,CAAK,CACL,EAEAD,EAAW,iBAAiB,SAAUQ,CAAmB"}